/*  
 * 문제 요약
 *     - '('와 ')'로만 이루어진 문자열 s가 올바른 괄호 문자열인지 판별
 *     - '('가 나오면 이후 반드시 짝이 맞는 ')'가 있어야 함
 *
 * 입력  
 *     - String s (길이 1~100,000, 괄호 문자만 포함)
 *
 * 출력  
 *     - boolean: 올바른 괄호면 true, 아니면 false
 *
 * 핵심 포인트  
 *     - 여는 괄호는 +1, 닫는 괄호는 -1로 누적합을 관리
 *     - 누적합이 중간에 음수가 되면 잘못된 괄호 (닫는 괄호가 먼저 나옴)
 *     - 마지막까지 검사 후 누적합이 0이면 짝이 맞음
 */

class Solution {
	
	public boolean solution(String s) {
		int sum = 0;
		
		for (int i = 0; i < s.length(); i++) {
			// 여는 괄호는 +1, 닫는 괄호는 -1
			sum += (s.charAt(i) == '(') ? 1 : -1;
			
			// 누적합이 음수면 잘못된 괄호 순서
			if (sum < 0) return false;
		}
		
		// 최종 누적합이 0이어야 올바른 괄호
		return sum == 0;
	}
	
}
